let handler = async (m, { conn }) => {
    try {
        let userToCompliment;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø£Ùˆ Ø§Ù„Ø±Ø¯
        if (m.mentionedJid && m.mentionedJid.length > 0) {
            userToCompliment = m.mentionedJid[0];
        } else if (m.quoted) {
            userToCompliment = m.quoted.sender;
        }
        
        if (!userToCompliment) {
            return conn.reply(m.chat, `â•”â•â•â•â° ğŸ’ Ù…Ø¬Ø§Ù…Ù„Ø© â±â•â•â•â•—
â•‘
â•‘ âŒ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø´Ø®Øµ Ù„Ù„Ù…Ø¬Ø§Ù…Ù„Ø©!
â•‘
â•‘ ğŸ“ *Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:*
â•‘ â€¢ Ù‚Ù… Ø¨Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„ØªÙ‡
â•‘ â€¢ Ù‚Ù… Ø¨Ø¹Ù…Ù„ Ù…Ù†Ø´Ù† Ù„Ù‡ @Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`, m);
        }

        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¬Ø§Ù…Ù„Ø§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        const compliments = [
            "Ø£Ù†Øª Ø±Ø§Ø¦Ø¹ ØªÙ…Ø§Ù…Ø§Ù‹ ÙƒÙ…Ø§ Ø£Ù†Øª! ğŸŒŸ",
            "Ù„Ø¯ÙŠÙƒ Ø­Ø³ ÙÙƒØ§Ù‡ÙŠ Ø±Ø§Ø¦Ø¹! ğŸ˜„",
            "Ø£Ù†Øª Ø´Ø®Øµ Ù…ÙÙƒØ± ÙˆÙ„Ø·ÙŠÙ Ù„Ù„ØºØ§ÙŠØ©. ğŸ’­",
            "Ø£Ù†Øª Ø£Ù‚ÙˆÙ‰ Ù…Ù…Ø§ ØªØ¹ØªÙ‚Ø¯! ğŸ’ª",
            "Ø£Ù†Øª ØªØ¶ÙŠØ¡ Ø§Ù„Ù…ÙƒØ§Ù†! âœ¨",
            "Ø£Ù†Øª ØµØ¯ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠ. ğŸ¤",
            "Ø£Ù†Øª ØªÙ„Ù‡Ù…Ù†ÙŠ! ğŸŒˆ",
            "Ø¥Ø¨Ø¯Ø§Ø¹Ùƒ Ù„Ø§ Ø­Ø¯ÙˆØ¯ Ù„Ù‡! ğŸ¨",
            "Ù„Ø¯ÙŠÙƒ Ù‚Ù„Ø¨ Ù…Ù† Ø°Ù‡Ø¨. ğŸ’›",
            "Ø£Ù†Øª ØªØ­Ø¯Ø« ÙØ±Ù‚Ø§Ù‹ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…. ğŸŒ",
            "Ø¥ÙŠØ¬Ø§Ø¨ÙŠØªÙƒ Ù…Ø¹Ø¯ÙŠØ©! ğŸ˜Š",
            "Ù„Ø¯ÙŠÙƒ Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø¹Ù…Ù„ Ù…Ø°Ù‡Ù„Ø©. ğŸ“ˆ",
            "Ø£Ù†Øª ØªØ¨Ø±Ø² Ø§Ù„Ø£ÙØ¶Ù„ ÙÙŠ Ø§Ù„Ù†Ø§Ø³. ğŸŒº",
            "Ø§Ø¨ØªØ³Ø§Ù…ØªÙƒ ØªÙ†ÙŠØ± ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…ÙŠØ¹. ğŸ˜",
            "Ø£Ù†Øª Ù…ÙˆÙ‡ÙˆØ¨ ÙÙŠ ÙƒÙ„ Ù…Ø§ ØªÙØ¹Ù„Ù‡. ğŸ¯",
            "Ù„Ø·ÙÙƒ ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…ÙƒØ§Ù†Ø§Ù‹ Ø£ÙØ¶Ù„. ğŸŒ¸",
            "Ù„Ø¯ÙŠÙƒ ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø± ÙØ±ÙŠØ¯Ø© ÙˆØ±Ø§Ø¦Ø¹Ø©. ğŸ‘€",
            "Ø­Ù…Ø§Ø³Ùƒ Ù…Ù„Ù‡Ù… Ø­Ù‚Ø§Ù‹! ğŸ”¥",
            "Ø£Ù†Øª Ù‚Ø§Ø¯Ø± Ø¹Ù„Ù‰ ØªØ­Ù‚ÙŠÙ‚ Ø£Ø´ÙŠØ§Ø¡ Ø¹Ø¸ÙŠÙ…Ø©. ğŸ†",
            "ØªØ¹Ø±Ù Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙƒÙŠÙ ØªØ¬Ø¹Ù„ Ø´Ø®ØµØ§Ù‹ Ù…Ø§ ÙŠØ´Ø¹Ø± Ø¨Ø§Ù„ØªÙ…ÙŠØ². ğŸ’«",
            "Ø«Ù‚ØªÙƒ Ø¨Ù†ÙØ³Ùƒ ØªØ³ØªØ­Ù‚ Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨. ğŸ‘‘",
            "Ù„Ø¯ÙŠÙƒ Ø±ÙˆØ­ Ø¬Ù…ÙŠÙ„Ø©. ğŸ¦‹",
            "ÙƒØ±Ù…Ùƒ Ù„Ø§ Ø­Ø¯ÙˆØ¯ Ù„Ù‡. ğŸ",
            "Ù„Ø¯ÙŠÙƒ Ø¹ÙŠÙ† Ø±Ø§Ø¦Ø¹Ø© Ù„Ù„ØªÙØ§ØµÙŠÙ„. ğŸ”",
            "Ø´ØºÙÙƒ Ù…Ø­ÙØ² Ø­Ù‚Ø§Ù‹! â¤ï¸",
            "Ø£Ù†Øª Ù…Ø³ØªÙ…Ø¹ Ø±Ø§Ø¦Ø¹. ğŸ‘‚",
            "Ø£Ù†Øª Ø£Ù‚ÙˆÙ‰ Ù…Ù…Ø§ ØªØ¸Ù†! ğŸ’",
            "Ø¶Ø­ÙƒØªÙƒ Ù…Ø¹Ø¯ÙŠØ©. ğŸ˜‚",
            "Ù„Ø¯ÙŠÙƒ Ù…ÙˆÙ‡Ø¨Ø© Ø·Ø¨ÙŠØ¹ÙŠØ© Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† ÙŠØ´Ø¹Ø±ÙˆÙ† Ø¨Ø§Ù„ØªÙ‚Ø¯ÙŠØ±. ğŸŒ¹",
            "Ø£Ù†Øª ØªØ¬Ø¹Ù„ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…ÙƒØ§Ù†Ø§Ù‹ Ø£ÙØ¶Ù„ Ø¨Ù…Ø¬Ø±Ø¯ ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠÙ‡. ğŸŒ"
        ];

        // Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¬Ø§Ù…Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        const compliment = compliments[Math.floor(Math.random() * compliments.length)];

        // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„ØªØ¬Ù†Ø¨ Ø­Ø¯ Ø§Ù„Ù…Ø¹Ø¯Ù„
        await new Promise(resolve => setTimeout(resolve, 1000));

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¬Ø§Ù…Ù„Ø©
        const message = `â•”â•â•â•â° ğŸ’ Ù…Ø¬Ø§Ù…Ù„Ø© Ø®Ø§ØµØ© â±â•â•â•â•—
â•‘
â•‘ ğŸ‘¤ Ø¥Ù„Ù‰: @${userToCompliment.split('@')[0]}
â•‘
â•‘ â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â•‘
â•‘ ${compliment}
â•‘
â•‘ â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â•‘
â•‘ ğŸ’• Ù…Ø¹ Ø£Ø·ÙŠØ¨ Ø§Ù„ØªÙ…Ù†ÙŠØ§Øª!
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;

        await conn.reply(m.chat, message, m, { mentions: [userToCompliment] });

    } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø¬Ø§Ù…Ù„Ø©:', error);
        
        if (error.data === 429) {
            await new Promise(resolve => setTimeout(resolve, 2000));
            return conn.reply(m.chat, `â•”â•â•â•â° âš ï¸ ØªØ­Ø°ÙŠØ± â±â•â•â•â•—
â•‘
â•‘ â³ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹
â•‘ ğŸ”„ Ø«Ù… Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`, m);
        }
        
        conn.reply(m.chat, `â•”â•â•â•â° âš ï¸ Ø®Ø·Ø£ â±â•â•â•â•—
â•‘
â•‘ âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¬Ø§Ù…Ù„Ø©
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`, m);
    }
};

handler.help = ['Ù…Ø¬Ø§Ù…Ù„Ø© <@Ù…Ø³ØªØ®Ø¯Ù…>'];
handler.tags = ['fun'];
handler.command = /^(Ù…Ø¬Ø§Ù…Ù„Ø©|compliment|praise)$/i;

export default handler;
